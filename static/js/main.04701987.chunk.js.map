{"version":3,"sources":["components/CurrencyRow.js","images/E.svg","components/Header.js","components/App.js","index.js"],"names":["CurrencyRow","props","currencyOptions","selectedCurrency","onChangeCurrency","onChangeAmount","amount","className","type","value","onChange","map","option","Header","src","logo","alt","href","target","BASE_URL","App","toAmount","fromAmount","useState","setCurrencyOptions","fromCurrency","setFromCurrency","toCurrency","setToCurrency","exchangeRate","setExchangeRate","setAmount","amountInFromCurrency","setAmountInFromCurrency","useEffect","fetch","then","res","json","data","firstCurrency","Object","keys","rates","base","selectCurrency","e","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAEe,SAASA,EAAYC,GAChC,IACIC,EAKAD,EALAC,gBACAC,EAIAF,EAJAE,iBACAC,EAGAH,EAHAG,iBACAC,EAEAJ,EAFAI,eACAC,EACAL,EADAK,OAEJ,OACI,sBAAKC,UAAU,WAAf,UACI,uBAAOC,KAAK,SAASD,UAAU,kBAAkBE,MAAOH,EAAQI,SAAUL,IAC1E,wBAAQI,MAAON,EAAkBO,SAAUN,EAAkBG,UAAU,mBAAvE,SACKL,EAAgBS,KAAI,SAAAC,GAAM,OAC3B,wBAAqBH,MAAOG,EAA5B,SAAqCA,GAAxBA,WCfd,UAA0B,8BCW1BC,MARf,WACQ,OACI,wBAAQN,UAAU,SAAlB,SACI,qBAAKO,IAAKC,EAAMR,UAAU,eAAeS,IAAI,6CAAUC,KAAK,IAAIC,OAAO,aCFjFC,EAAW,yCAgFFC,MA9Ef,WAEE,IAOIC,EAAUC,EAPd,EAA8CC,mBAAS,IAAvD,mBAAOrB,EAAP,KAAwBsB,EAAxB,KACA,EAAwCD,qBAAxC,mBAAOE,EAAP,KAAqBC,EAArB,KACA,EAAoCH,qBAApC,mBAAOI,EAAP,KAAmBC,EAAnB,KACA,EAAwCL,qBAAxC,mBAAOM,EAAP,KAAqBC,EAArB,KACA,EAA4BP,mBAAS,GAArC,mBAAOjB,EAAP,KAAeyB,EAAf,KACA,EAAwDR,oBAAS,GAAjE,mBAAOS,EAAP,KAA6BC,EAA7B,KA4CE,OAzCED,GACFV,EAAahB,EACbe,EAAWf,EAASuB,IAEpBR,EAAWf,EACXgB,EAAahB,EAASuB,GAGtBK,qBAAU,WACRC,MAAMhB,GACHiB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJ,IAAMC,EAAgBC,OAAOC,KAAKH,EAAKI,OAAO,GAC9CnB,EAAmB,CAACe,EAAKK,MAAP,mBAAgBH,OAAOC,KAAKH,EAAKI,UACnDjB,EAAgBa,EAAKK,MACrBhB,EAAcY,GACdV,EAAgBS,EAAKI,MAAMH,SAE9B,IAEHN,qBAAU,WACY,MAAhBT,GAAsC,MAAdE,GAC5BQ,MAAM,GAAD,OAAIhB,EAAJ,iBAAqBM,EAArB,oBAA6CE,IAC/CS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIT,EAAgBS,EAAKI,MAAMhB,SAE1C,CAACF,EAAcE,IAgBhB,sBAAKpB,UAAU,OAAf,UACA,cAAC,EAAD,IACA,sBAAKA,UAAU,YAAf,UACA,oBAAIA,UAAU,cAAd,mGACA,sBAAKA,UAAU,sBAAf,UACA,cAACP,EAAD,CACAE,gBAAiBA,EACjB2C,eAAgBpB,EAChBrB,iBAAkB,SAAA0C,GAAC,OAAIlB,EAAckB,EAAE5B,OAAOT,QAC9CJ,eAhBF,SAAgCyC,GAC9Bf,EAAUe,EAAE5B,OAAOT,OACnBwB,GAAwB,IAexB3B,OAAQgB,IAER,qBAAKf,UAAU,mBAAf,oBACA,cAACP,EAAD,CACAE,gBAAiBA,EACjBC,iBAAkBwB,EAClBvB,iBAAkB,SAAA0C,GAAC,OAAIlB,EAAckB,EAAE5B,OAAOT,QAC9CJ,eA9BF,SAA8ByC,GAC5Bf,EAAUe,EAAE5B,OAAOT,OACnBwB,GAAwB,IA6BxB3B,OAAQe,c,MCvEd0B,IAASC,OAAO,cAAC,IAAMC,WAAP,UACd,cAAC,EAAD,MACkBC,SAASC,eAAe,W","file":"static/js/main.04701987.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function CurrencyRow(props) {\r\n    const {\r\n        currencyOptions,\r\n        selectedCurrency,\r\n        onChangeCurrency,\r\n        onChangeAmount,\r\n        amount\r\n    } = props\r\n    return (\r\n        <div className=\"currency\">\r\n            <input type=\"number\" className=\"currency__input\" value={amount} onChange={onChangeAmount}/>\r\n            <select value={selectedCurrency} onChange={onChangeCurrency} className=\"currency__select\">\r\n                {currencyOptions.map(option => (\r\n                <option key={option} value={option}>{option}</option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/E.de0febdc.svg\";","import logo from '../images/E.svg';\r\n\r\n\r\nfunction Header() {\r\n        return (\r\n            <header className=\"header\">\r\n                <img src={logo} className=\"header__logo\" alt=\"Логотип\" href=\"#\" target=\"_self\" />\r\n            </header>\r\n        );\r\n}\r\n\r\nexport default Header;","import React, { useEffect, useState } from 'react';\r\nimport CurrencyRow from './CurrencyRow';\r\nimport Header from './Header';\r\n\r\nconst BASE_URL = 'https://www.cbr-xml-daily.ru/latest.js'; //API курса валют с сайта cbr-xml-daily.ru\r\n\r\nfunction App() {\r\n\r\n  const [currencyOptions, setCurrencyOptions] = useState([]); // выбор валюты\r\n  const [fromCurrency, setFromCurrency] = useState(); // валюта первая\r\n  const [toCurrency, setToCurrency] = useState(); // валюта вторая\r\n  const [exchangeRate, setExchangeRate] = useState(); //обменный курс\r\n  const [amount, setAmount] = useState(1); //суммы по умолчанию\r\n  const [amountInFromCurrency, setAmountInFromCurrency] = useState(true); // суммы из которых происходит конвертация\r\n\r\n  let toAmount, fromAmount\r\n  if (amountInFromCurrency) {   // конвертер\r\n    fromAmount = amount\r\n    toAmount = amount * exchangeRate\r\n  } else {\r\n    toAmount = amount\r\n    fromAmount = amount / exchangeRate\r\n  }\r\n\r\n    useEffect(() => {  //эффект который позволяет получать этот API каждый раз когда обновляем страницу\r\n      fetch(BASE_URL)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          const firstCurrency = Object.keys(data.rates)[0]; // установка валюты по умолчанию\r\n          setCurrencyOptions([data.base, ...Object.keys(data.rates)])\r\n          setFromCurrency(data.base)\r\n          setToCurrency(firstCurrency)\r\n          setExchangeRate(data.rates[firstCurrency])\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n      if (fromCurrency != null && toCurrency != null) {\r\n      fetch(`${BASE_URL}?base=${fromCurrency}&symbols=${toCurrency}`)\r\n        .then(res => res.json())\r\n        .then(data => setExchangeRate(data.rates[toCurrency]))\r\n        }\r\n    }, [fromCurrency, toCurrency])\r\n\r\n\r\n    function handleToAmountChange(e) { // изменение значения суммы \r\n      setAmount(e.target.value);\r\n      setAmountInFromCurrency(false)\r\n\r\n    }\r\n\r\n    function handleFromAmountChange(e) { // результат конвертации\r\n      setAmount(e.target.value); \r\n      setAmountInFromCurrency(true)\r\n\r\n    }\r\n\r\n    return (\r\n      <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container\">\r\n      <h1 className=\"page__title\">Конвертер валют</h1>\r\n      <div className=\"currency__container\">\r\n      <CurrencyRow \r\n      currencyOptions={currencyOptions}\r\n      selectCurrency={fromCurrency}\r\n      onChangeCurrency={e => setToCurrency(e.target.value)}\r\n      onChangeAmount={handleFromAmountChange}\r\n      amount={fromAmount}\r\n      />\r\n      <div className=\"currency__equals\">&#8646;</div>\r\n      <CurrencyRow \r\n      currencyOptions={currencyOptions}\r\n      selectedCurrency={toCurrency}\r\n      onChangeCurrency={e => setToCurrency(e.target.value)}\r\n      onChangeAmount={handleToAmountChange}\r\n      amount={toAmount}\r\n      />\r\n      </div>\r\n      </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<React.StrictMode>\r\n  <App />\r\n</React.StrictMode>,document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}