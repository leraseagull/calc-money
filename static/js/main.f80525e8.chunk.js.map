{"version":3,"sources":["components/CurrencyRow.js","images/E.svg","components/Header.js","components/App.js","index.js"],"names":["CurrencyRow","props","currencyOptions","selectedCurrency","onChangeCurrency","onChangeAmount","amount","className","type","value","onChange","map","option","Header","src","logo","alt","href","target","BASE_URL","App","toAmount","fromAmount","useState","setCurrencyOptions","fromCurrency","setFromCurrency","toCurrency","setToCurrency","exchangeRate","setExchangeRate","setAmount","amountInFromCurrency","setAmountInFromCurrency","useEffect","fetch","then","res","json","data","firstCurrency","Object","keys","rates","base","selectCurrency","e","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMAEe,SAASA,EAAYC,GAChC,IACIC,EAKAD,EALAC,gBACAC,EAIAF,EAJAE,iBACAC,EAGAH,EAHAG,iBACAC,EAEAJ,EAFAI,eACAC,EACAL,EADAK,OAEJ,OACI,sBAAKC,UAAU,WAAf,UACI,uBAAOC,KAAK,SAASD,UAAU,kBAAkBE,MAAOH,EAAQI,SAAUL,IAC1E,wBAAQI,MAAON,EAAkBO,SAAUN,EAAkBG,UAAU,mBAAvE,SACKL,EAAgBS,KAAI,SAAAC,GAAM,OAC3B,wBAAqBH,MAAOG,EAA5B,SAAqCA,GAAxBA,WCfd,UAA0B,8BCW1BC,MARf,WACQ,OACI,wBAAQN,UAAU,SAAlB,SACI,qBAAKO,IAAKC,EAAMR,UAAU,eAAeS,IAAI,6CAAUC,KAAK,IAAIC,OAAO,aCFjFC,EAAW,yCAgFFC,MA9Ef,WAEE,IAOIC,EAAUC,EAPd,EAA8CC,mBAAS,IAAvD,mBAAOrB,EAAP,KAAwBsB,EAAxB,KACA,EAAwCD,qBAAxC,mBAAOE,EAAP,KAAqBC,EAArB,KACA,EAAoCH,qBAApC,mBAAOI,EAAP,KAAmBC,EAAnB,KACA,EAAwCL,qBAAxC,mBAAOM,EAAP,KAAqBC,EAArB,KACA,EAA4BP,mBAAS,GAArC,mBAAOjB,EAAP,KAAeyB,EAAf,KACA,EAAwDR,oBAAS,GAAjE,mBAAOS,EAAP,KAA6BC,EAA7B,KA4CE,OAzCED,GACFV,EAAahB,EACbe,EAAWf,EAASuB,IAEpBR,EAAWf,EACXgB,EAAahB,EAASuB,GAGtBK,qBAAU,WACRC,MAAMhB,GACHiB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJ,IAAMC,EAAgBC,OAAOC,KAAKH,EAAKI,OAAO,GAC9CnB,EAAmB,CAACe,EAAKK,MAAP,mBAAgBH,OAAOC,KAAKH,EAAKI,UACnDjB,EAAgBa,EAAKK,MACrBhB,EAAcY,GACdV,EAAgBS,EAAKI,MAAMH,SAE9B,IAEHN,qBAAU,WACY,MAAhBT,GAAsC,MAAdE,GAC5BQ,MAAM,GAAD,OAAIhB,EAAJ,iBAAqBM,EAArB,oBAA6CE,IAC/CS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIT,EAAgBS,EAAKI,MAAMhB,SAE1C,CAACF,EAAcE,IAgBhB,sBAAKpB,UAAU,OAAf,UACA,cAAC,EAAD,IACA,sBAAKA,UAAU,YAAf,UACA,oBAAIA,UAAU,cAAd,mGACA,sBAAKA,UAAU,sBAAf,UACA,cAACP,EAAD,CACAE,gBAAiBA,EACjB2C,eAAgBpB,EAChBrB,iBAAkB,SAAA0C,GAAC,OAAIlB,EAAckB,EAAE5B,OAAOT,QAC9CJ,eAhBF,SAAgCyC,GAC9Bf,EAAUe,EAAE5B,OAAOT,OACnBwB,GAAwB,IAexB3B,OAAQgB,IAER,qBAAKf,UAAU,mBAAf,oBACA,cAACP,EAAD,CACAE,gBAAiBA,EACjBC,iBAAkBwB,EAClBvB,iBAAkB,SAAA0C,GAAC,OAAIlB,EAAckB,EAAE5B,OAAOT,QAC9CJ,eA9BF,SAA8ByC,GAC5Bf,EAAUe,EAAE5B,OAAOT,OACnBwB,GAAwB,IA6BxB3B,OAAQe,c,MCvEd0B,IAASC,OAAO,cAAC,IAAMC,WAAP,UACd,cAAC,EAAD,MACkBC,SAASC,eAAe,W","file":"static/js/main.f80525e8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function CurrencyRow(props) {\r\n    const {\r\n        currencyOptions,\r\n        selectedCurrency,\r\n        onChangeCurrency,\r\n        onChangeAmount,\r\n        amount\r\n    } = props\r\n    return (\r\n        <div className=\"currency\">\r\n            <input type=\"number\" className=\"currency__input\" value={amount} onChange={onChangeAmount}/>\r\n            <select value={selectedCurrency} onChange={onChangeCurrency} className=\"currency__select\">\r\n                {currencyOptions.map(option => (\r\n                <option key={option} value={option}>{option}</option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/E.6b8535ac.svg\";","import logo from '../images/E.svg';\r\n\r\n\r\nfunction Header() {\r\n        return (\r\n            <header className=\"header\">\r\n                <img src={logo} className=\"header__logo\" alt=\"Логотип\" href=\"#\" target=\"_self\" />\r\n            </header>\r\n        );\r\n}\r\n\r\nexport default Header;","import React, { useEffect, useState } from 'react';\nimport CurrencyRow from './CurrencyRow';\nimport Header from './Header';\n\nconst BASE_URL = 'https://www.cbr-xml-daily.ru/latest.js'; //API курса валют с сайта cbr-xml-daily.ru\n\nfunction App() {\n\n  const [currencyOptions, setCurrencyOptions] = useState([]); // выбор валюты\n  const [fromCurrency, setFromCurrency] = useState(); // валюта первая\n  const [toCurrency, setToCurrency] = useState(); // валюта вторая\n  const [exchangeRate, setExchangeRate] = useState(); //обменный курс\n  const [amount, setAmount] = useState(1); //суммы по умолчанию\n  const [amountInFromCurrency, setAmountInFromCurrency] = useState(true); // суммы из которых происходит конвертация\n\n  let toAmount, fromAmount\n  if (amountInFromCurrency) {   // конвертер\n    fromAmount = amount\n    toAmount = amount * exchangeRate\n  } else {\n    toAmount = amount\n    fromAmount = amount / exchangeRate\n  }\n\n    useEffect(() => {  //эффект который позволяет получать этот API каждый раз когда обновляем страницу\n      fetch(BASE_URL)\n        .then(res => res.json())\n        .then(data => {\n          const firstCurrency = Object.keys(data.rates)[0]; // установка валюты по умолчанию\n          setCurrencyOptions([data.base, ...Object.keys(data.rates)])\n          setFromCurrency(data.base)\n          setToCurrency(firstCurrency)\n          setExchangeRate(data.rates[firstCurrency])\n        })\n    }, [])\n\n    useEffect(() => {\n      if (fromCurrency != null && toCurrency != null) {\n      fetch(`${BASE_URL}?base=${fromCurrency}&symbols=${toCurrency}`)\n        .then(res => res.json())\n        .then(data => setExchangeRate(data.rates[toCurrency]))\n        }\n    }, [fromCurrency, toCurrency])\n\n\n    function handleToAmountChange(e) { // изменение значения суммы \n      setAmount(e.target.value);\n      setAmountInFromCurrency(false)\n\n    }\n\n    function handleFromAmountChange(e) { // результат конвертации\n      setAmount(e.target.value); \n      setAmountInFromCurrency(true)\n\n    }\n\n    return (\n      <div className=\"page\">\n      <Header />\n      <div className=\"container\">\n      <h1 className=\"page__title\">Конвертер валют</h1>\n      <div className=\"currency__container\">\n      <CurrencyRow \n      currencyOptions={currencyOptions}\n      selectCurrency={fromCurrency}\n      onChangeCurrency={e => setToCurrency(e.target.value)}\n      onChangeAmount={handleFromAmountChange}\n      amount={fromAmount}\n      />\n      <div className=\"currency__equals\">&#8646;</div>\n      <CurrencyRow \n      currencyOptions={currencyOptions}\n      selectedCurrency={toCurrency}\n      onChangeCurrency={e => setToCurrency(e.target.value)}\n      onChangeAmount={handleToAmountChange}\n      amount={toAmount}\n      />\n      </div>\n      </div>\n      </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<React.StrictMode>\n  <App />\n</React.StrictMode>,document.getElementById('root'));\n\n"],"sourceRoot":""}